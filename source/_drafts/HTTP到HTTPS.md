---
title: HTTP到HTTPS
tags: [其他]
---

> 什么是HTTPS,HTTPS到底怎么进行加密/校验的.

# HTTPS 


## HTTPS

### 概念
 简单的来说,HTTPS就是在安全的传输层上发送HTTP请求.在将未加密的HTTP请求先发送给SSL或者TSL层的安全层,之后再将HTTP报文发送给TCP.

### 与HTTP 的区别
1. 承载端口:
	HTTP -> 80端口,
	HTTPS -> 443端口.
	在建立连接的时候,如果是HTTP方案的URL,会打开服务器的80端口,发送HTTP报文;如果是HTTPS方案的URL,会打开443端口,然后与服务器`握手`,以`二进制格式与服务器交换一些SSL安全参数,并附加HTTP加密报文`.
2. 网络传输结构图:
![却别](HTTPS区分.png)


## HTTPS 的安全建立
### 大致流程:
- 客户端打开服务器443端口并建立连接.
- TCP连接之后客户端和服务器初始化SSL层.
- 对加密参数进行沟通,交换密钥(完成密钥).
- 客户端发送报文到SSL.

### SSL握手

#### 原理

`SSL` 的主要目的就是想要安全的实现客户端到服务器之间的连接,建立安全层 -> **(客户端<->服务 的报文有且只有该客户端和该服务器实际的报文内容)**

#### 安全加密

为了实现端到端的安全,实际上就是各种加密.
1. 对称加密.

![简单对称加密](Group 2.png)

但是服务器面对的是N多客户端,在每个客户端放置A密钥,任何人都拥有这个密钥,等同于没有加密.

2. 对称加密.

![服务器私钥,客户端公钥](服务器私钥,客户端公钥.png)

这里服务器存储一个私钥,对每一个客户端发送一个公钥,在发送报文的时候,客户端用公钥加密,服务器对报文使用私钥解密,如果成功,则安全.(理论上

上图在理论上是可行的,但是在实际中会出现中间人攻击.

![公钥中间人拦截](公钥中间人拦截.png)


